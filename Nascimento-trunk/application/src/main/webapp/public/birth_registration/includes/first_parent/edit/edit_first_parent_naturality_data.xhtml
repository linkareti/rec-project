<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:o="http://omnifaces.org/ui">

	<p:panel>
		<f:facet name="header">
			<legend>
				<h:outputText
					value="#{messages['birthRegistration.parent.naturalityData']}" />
			</legend>
		</f:facet>

		<h:panelGroup id="firstParentNaturalityGroup" layout="block">
			<div class="row">
				<div class="col-md-4">
					<p:outputLabel value="#{messages['parent.naturalityType']}"
						for="firstParentNaturalityType" />
					<p:selectOneMenu id="firstParentNaturalityType"
						value="#{birthRegistrationController.birthRegistration.firstParent.naturalityType}"
						styleClass="col-md-12" style="width: none;">
						<f:selectItem noSelectionOption="true"
							itemLabel="#{messages['label.selectOne']}" />
						<f:selectItems value="#{applicationFactory.naturalityTypes}"
							var="naturalityType" itemLabel="#{messages[naturalityType.key]}"
							itemValue="#{naturalityType}" />
						<f:param name="disableValidation" value="#{true}" />
						<p:ajax process="@this" update="firstParentNaturalityGroup"
							listener="#{birthRegistrationController.onNaturalityTypeChange(birthRegistrationController.birthRegistration.firstParent)}"
							partialSubmit="true" />
					</p:selectOneMenu>
					<div class="clearfix" />
					<p:message for="firstParentNaturalityType" />
				</div>

				<ui:fragment
					rendered="#{birthRegistrationController.birthRegistration.firstParent.naturalityType eq 'PORTUGUESE'}">
					<div class="col-md-8">
						<p:outputLabel value="#{messages['naturality.parish']}"
							for="firstParentNaturalityParish" />
						<p:autoComplete id="firstParentNaturalityParish"
							value="#{birthRegistrationController.birthRegistration.firstParent.naturality.parish}"
							completeMethod="#{birthRegistrationController.completeAnyParish}"
							var="parish" itemLabel="#{parish.name}" itemValue="#{parish}"
							converter="#{parishConverter}" forceSelection="true"
							autoHighlight="true" minQueryLength="2"
							maxResults="#{birthRegistrationController.numberOfParishesToShow}"
							inputStyleClass="col-md-12" style="width: 100%;"
							scrollHeight="300"
							placeholder="#{messages['naturality.parish.placeholder']}">
							<p:column>
								<h:outputText value="#{parish.county.district.name}" /> &gt; <h:outputText
									value="#{parish.county.name}" /> &gt; <h:outputText
									value="#{parish.name}" />
								<ui:fragment rendered="#{not parish.active}">
									<span class="badge">EXTINTA</span>
								</ui:fragment>
							</p:column>
						</p:autoComplete>
						<div class="clearfix" />
						<p:message for="firstParentNaturalityParish" />
					</div>
				</ui:fragment>

				<ui:fragment
					rendered="#{birthRegistrationController.birthRegistration.firstParent.naturalityType eq 'FOREIGN'}">
					<div class="col-md-4">
						<p:outputLabel value="#{messages['naturality.country']}"
							for="firstParentForeignNaturalityCountry" />
						<p:selectOneMenu id="firstParentForeignNaturalityCountry"
							value="#{birthRegistrationController.birthRegistration.firstParent.naturality.country}"
							styleClass="col-md-12" style="width: none;"
							converter="#{countryConverter}">
							<f:selectItem noSelectionOption="true"
								itemLabel="#{messages['label.selectOne']}" />
							<f:selectItems
								value="#{applicationFactory.nonPortugueseCountries}"
								var="country" itemLabel="#{country.name}" itemValue="#{country}" />
						</p:selectOneMenu>
						<div class="clearfix" />
						<p:message for="firstParentForeignNaturalityCountry" />
					</div>
					<div class="col-md-4">
						<p:outputLabel value="#{messages['naturality.location']}"
							for="firstParentNaturalityLocation" />
						<p:inputText id="firstParentNaturalityLocation"
							value="#{birthRegistrationController.birthRegistration.firstParent.naturality.location}"
							styleClass="col-md-12"
							placeholder="#{messages['naturality.location.placeholder']}" />
						<div class="clearfix" />
						<p:message for="firstParentNaturalityLocation" />
					</div>
				</ui:fragment>
				<ui:fragment
					rendered="#{birthRegistrationController.birthRegistration.firstParent.naturalityType eq 'ON_BOARD'}">
					<div class="col-md-4">
						<p:outputLabel value="#{messages['naturality.location']}"
							for="firstParentOnBoardNaturalityLocation" />
						<p:inputText id="firstParentOnBoardNaturalityLocation"
							value="#{birthRegistrationController.birthRegistration.firstParent.naturality.location}"
							styleClass="col-md-12" />
						<div class="clearfix" />
						<p:message for="firstParentOnBoardNaturalityLocation" />
					</div>

					<div class="col-md-8">
						<div class="row">
							<div class="col-md-3">
								<p:outputLabel value="#{messages['naturality.latitude']}"
									for="firstParentNaturalityLatitudeValue" />
								<p:inputText id="firstParentNaturalityLatitudeValue"
									value="#{birthRegistrationController.birthRegistration.firstParent.naturality.latitudeValue}"
									styleClass="col-md-12"
									placeholder="#{messages['naturality.latitude.placeholder']}" />
								<div class="clearfix" />
								<p:message for="firstParentNaturalityLatitudeValue" />
							</div>
							<div class="col-md-2">
								<p:outputLabel
									value="#{messages['naturality.latitude.coordinate']}"
									for="firstParentNaturalityLatitudeCoordinatePosition" />
								<p:selectOneMenu
									id="firstParentNaturalityLatitudeCoordinatePosition"
									value="#{birthRegistrationController.birthRegistration.firstParent.naturality.latitudeCoordinatePosition}"
									styleClass="col-md-12" style="width: none;">
									<f:selectItems
										value="#{applicationFactory.latitudeCoordinatePositions}"
										var="latitudeCoordinatePosition"
										itemLabel="#{messages[latitudeCoordinatePosition.key]}"
										itemValue="#{latitudeCoordinatePosition}" />
								</p:selectOneMenu>
								<div class="clearfix" />
								<p:message for="firstParentNaturalityLatitudeCoordinatePosition" />
							</div>
							<div class="col-md-3">
								<p:outputLabel value="#{messages['naturality.longitude']}"
									for="firstParentNaturalityLongitudeValue" />
								<p:inputText id="firstParentNaturalityLongitudeValue"
									value="#{birthRegistrationController.birthRegistration.firstParent.naturality.longitudeValue}"
									styleClass="col-md-12"
									placeholder="#{messages['naturality.longitude.placeholder']}" />
								<div class="clearfix" />
								<p:message for="firstParentNaturalityLongitudeValue" />
							</div>
							<div class="col-md-2">
								<p:outputLabel
									value="#{messages['naturality.longitude.coordinate']}"
									for="firstParentNaturalityLongitudeCoordinatePosition" />
								<p:selectOneMenu
									id="firstParentNaturalityLongitudeCoordinatePosition"
									value="#{birthRegistrationController.birthRegistration.firstParent.naturality.longitudeCoordinatePosition}"
									styleClass="col-md-12" style="width: none;">
									<f:selectItems
										value="#{applicationFactory.longitudeCoordinatePositions}"
										var="longitudeCoordinatePosition"
										itemLabel="#{messages[longitudeCoordinatePosition.key]}"
										itemValue="#{longitudeCoordinatePosition}" />
								</p:selectOneMenu>
								<div class="clearfix" />
								<p:message
									for="firstParentNaturalityLongitudeCoordinatePosition" />
							</div>
						</div>
					</div>
				</ui:fragment>
			</div>
		</h:panelGroup>
	</p:panel>

</ui:composition>