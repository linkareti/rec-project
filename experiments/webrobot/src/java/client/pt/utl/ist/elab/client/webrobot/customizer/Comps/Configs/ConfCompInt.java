/*
 * ConfCompBin.java
 *
 * Created on 28 de Janeiro de 2003, 19:06
 */

package pt.utl.ist.elab.client.webrobot.customizer.Comps.Configs;

/**
 * 
 * @author Andrï¿½
 */
public class ConfCompInt extends javax.swing.JDialog {

	/**
	 * 
	 */
	private static final long serialVersionUID = 9050230762624941457L;

	/**
	 * Creates new form ConfCompBin
	 * 
	 * @param parent
	 * @param modal
	 * @param modelCompInt
	 */
	public ConfCompInt(final java.awt.Frame parent, final boolean modal,
			final pt.utl.ist.elab.client.webrobot.customizer.Models.ModelCompInt modelCompInt) {
		super(parent, modal);
		this.modelCompInt = modelCompInt;
		initComponents();
		readmodelCompInt();
		setCancel(false);
		jButtonOk.requestFocus();
	}

	/**
	 * This method is called from within the constructor to initialize the form.
	 * WARNING: Do NOT modify this code. The content of this method is always
	 * regenerated by the Form Editor.
	 */
	private void initComponents() {// GEN-BEGIN:initComponents
		buttonGroup = new javax.swing.ButtonGroup();
		jPanelOpts = new javax.swing.JPanel();
		jComboBoxD1 = new javax.swing.JComboBox();
		jComboBoxD2 = new javax.swing.JComboBox();
		jPanelVarIntOpts = new javax.swing.JPanel();
		jRadioButtonVar = new javax.swing.JRadioButton();
		jRadioButtonInt = new javax.swing.JRadioButton();
		jPanelVarInt = new javax.swing.JPanel();
		jComboBoxD3 = new javax.swing.JComboBox();
		jTextFieldD3 = new javax.swing.JTextField();
		jLabel1 = new javax.swing.JLabel();
		jPanelOkCancel = new javax.swing.JPanel();
		jButtonOk = new javax.swing.JButton();
		jButtonCancel = new javax.swing.JButton();

		setTitle("Compara\u00e7\u00e3o de n\u00fameros inteiros");
		setResizable(false);
		addKeyListener(new java.awt.event.KeyAdapter() {
			@Override
			public void keyPressed(final java.awt.event.KeyEvent evt) {
				formKeyPressed(evt);
			}
		});

		addMouseListener(new java.awt.event.MouseAdapter() {
			@Override
			public void mouseClicked(final java.awt.event.MouseEvent evt) {
				formMouseClicked(evt);
			}
		});

		addWindowListener(new java.awt.event.WindowAdapter() {
			@Override
			public void windowClosing(final java.awt.event.WindowEvent evt) {
				closeDialog(evt);
			}
		});

		jPanelOpts.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0)));
		jPanelOpts.setForeground(new java.awt.Color(51, 0, 102));
		jPanelOpts.setPreferredSize(new java.awt.Dimension(258, 57));
		jComboBoxD1.setForeground(new java.awt.Color(51, 0, 102));
		jComboBoxD1.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "A1", "A2", "A3", "A4", "I0", "I1",
				"I2", "I3", "I4", "I5", "I6", "I7", "V1", "V2", "V3", "V4", "V5" }));
		jComboBoxD1.setSelectedItem(modelCompInt.getD1());
		jPanelOpts.add(jComboBoxD1);

		jComboBoxD2.setForeground(new java.awt.Color(51, 0, 102));
		jComboBoxD2.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "<", "=", ">" }));
		jComboBoxD2.setSelectedItem(modelCompInt.getD2());
		jPanelOpts.add(jComboBoxD2);

		jPanelVarIntOpts.setLayout(new java.awt.BorderLayout());

		jRadioButtonVar.setForeground(new java.awt.Color(51, 0, 102));
		jRadioButtonVar.setSelected(true);
		buttonGroup.add(jRadioButtonVar);
		jRadioButtonVar.addMouseListener(new java.awt.event.MouseAdapter() {
			@Override
			public void mousePressed(final java.awt.event.MouseEvent evt) {
				jRadioButtonVarMousePressed(evt);
			}
		});

		jPanelVarIntOpts.add(jRadioButtonVar, java.awt.BorderLayout.NORTH);

		jRadioButtonInt.setForeground(new java.awt.Color(51, 0, 102));
		buttonGroup.add(jRadioButtonInt);
		jRadioButtonInt.addMouseListener(new java.awt.event.MouseAdapter() {
			@Override
			public void mousePressed(final java.awt.event.MouseEvent evt) {
				jRadioButtonIntMousePressed(evt);
			}
		});

		jPanelVarIntOpts.add(jRadioButtonInt, java.awt.BorderLayout.SOUTH);

		jPanelOpts.add(jPanelVarIntOpts);

		jPanelVarInt.setLayout(new java.awt.BorderLayout());

		jComboBoxD3.setForeground(new java.awt.Color(51, 0, 102));
		jComboBoxD3.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "A1", "A2", "A3", "A4", "I0", "I1",
				"I2", "I3", "I4", "I5", "I6", "I7", "V1", "V2", "V3", "V4", "V5" }));
		jComboBoxD3.setSelectedItem(modelCompInt.getD3());
		jPanelVarInt.add(jComboBoxD3, java.awt.BorderLayout.NORTH);

		jTextFieldD3.setColumns(3);
		jTextFieldD3.setForeground(new java.awt.Color(51, 0, 102));
		jTextFieldD3.setText("" + modelCompInt.getValor());
		jTextFieldD3.setEnabled(false);
		jPanelVarInt.add(jTextFieldD3, java.awt.BorderLayout.SOUTH);

		jPanelOpts.add(jPanelVarInt);

		jLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource(
				"/pt/utl/ist/elab/client/webrobot/customizer/Comps/Icons/compInt.gif")));
		jPanelOpts.add(jLabel1);

		getContentPane().add(jPanelOpts, java.awt.BorderLayout.CENTER);

		jPanelOkCancel.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0)));
		jPanelOkCancel.setForeground(new java.awt.Color(51, 0, 102));
		jButtonOk.setForeground(new java.awt.Color(51, 0, 102));
		jButtonOk.setText("Ok");
		jButtonOk.setPreferredSize(new java.awt.Dimension(73, 26));
		jButtonOk.addKeyListener(new java.awt.event.KeyAdapter() {
			@Override
			public void keyReleased(final java.awt.event.KeyEvent evt) {
				jButtonOkKeyReleased(evt);
			}
		});

		jButtonOk.addMouseListener(new java.awt.event.MouseAdapter() {
			@Override
			public void mousePressed(final java.awt.event.MouseEvent evt) {
				jButtonOkMousePressed(evt);
			}
		});

		jPanelOkCancel.add(jButtonOk);

		jButtonCancel.setForeground(new java.awt.Color(51, 0, 102));
		jButtonCancel.setText("Cancel");
		jButtonCancel.addMouseListener(new java.awt.event.MouseAdapter() {
			@Override
			public void mousePressed(final java.awt.event.MouseEvent evt) {
				jButtonCancelMousePressed(evt);
			}
		});

		jPanelOkCancel.add(jButtonCancel);

		getContentPane().add(jPanelOkCancel, java.awt.BorderLayout.SOUTH);

		pack();
	}// GEN-END:initComponents

	private void jButtonOkKeyReleased(final java.awt.event.KeyEvent evt) {// GEN-FIRST:event_jButtonOkKeyReleased
		if (evt.getKeyCode() == 10) {
			jButtonOkMousePressed(null);
		} else if (evt.getKeyCode() == 27) {
			jButtonCancelMousePressed(null);
		}
	}// GEN-LAST:event_jButtonOkKeyReleased

	private void formKeyPressed(final java.awt.event.KeyEvent evt) {// GEN-FIRST:event_formKeyPressed
		if (evt.getKeyCode() == 10) {
			jButtonOkMousePressed(null);
		} else if (evt.getKeyCode() == 27) {
			jButtonCancelMousePressed(null);
		}
	}// GEN-LAST:event_formKeyPressed

	private void formMouseClicked(final java.awt.event.MouseEvent evt) {// GEN-FIRST:event_formMouseClicked
		this.requestFocus();
	}// GEN-LAST:event_formMouseClicked

	private void jButtonCancelMousePressed(final java.awt.event.MouseEvent evt) {// GEN-FIRST:event_jButtonCancelMousePressed
		setCancel(true);
		closeDialog(null);
	}// GEN-LAST:event_jButtonCancelMousePressed

	private void jRadioButtonIntMousePressed(final java.awt.event.MouseEvent evt) {// GEN-FIRST:event_jRadioButtonIntMousePressed
		jComboBoxD3.setEnabled(false);
		jTextFieldD3.setEnabled(true);
	}// GEN-LAST:event_jRadioButtonIntMousePressed

	private void jRadioButtonVarMousePressed(final java.awt.event.MouseEvent evt) {// GEN-FIRST:event_jRadioButtonVarMousePressed
		jComboBoxD3.setEnabled(true);
		jTextFieldD3.setEnabled(false);
	}// GEN-LAST:event_jRadioButtonVarMousePressed

	private void jButtonOkMousePressed(final java.awt.event.MouseEvent evt) {// GEN-FIRST:event_jButtonOkMousePressed
		if (checkTextValues.isOK(jTextFieldD3)) {
			modelCompInt.setD1(jComboBoxD1.getSelectedItem().toString());
			modelCompInt.setD2(jComboBoxD2.getSelectedItem().toString());
			if (!jTextFieldD3.isEnabled()) {
				modelCompInt.setD3(jComboBoxD3.getSelectedItem().toString());
				modelCompInt.setValor(0);
				modelCompInt.setFlag(0);
			} else {
				modelCompInt.setD3("");
				modelCompInt.setValor(new Integer(jTextFieldD3.getText()).intValue());
				modelCompInt.setFlag(1);
			}
			closeDialog(null);
		}
	}// GEN-LAST:event_jButtonOkMousePressed

	/** Closes the dialog */
	private void closeDialog(final java.awt.event.WindowEvent evt) {// GEN-FIRST:event_closeDialog
		if (evt != null) {
			setCancel(true);
		}
		setVisible(false);
		dispose();
	}// GEN-LAST:event_closeDialog

	// DEBUG!!!!!!!!!!!
	/**
	 * @param args the command line arguments
	 * 
	 *            public static void main(String args[]) { new ConfCompInt(new
	 *            javax.swing.JFrame(), true).show(); }
	 */

	public void readmodelCompInt() {
		jComboBoxD1.setSelectedItem(modelCompInt.getD1());
		jComboBoxD2.setSelectedItem(modelCompInt.getD2());
		jComboBoxD3.setSelectedItem(modelCompInt.getD3());
		jTextFieldD3.setText("" + modelCompInt.getValor());
		if (modelCompInt.getFlag() == 0) {
			jRadioButtonVar.setSelected(true);
		} else {
			jRadioButtonVar.setSelected(false);
			jRadioButtonInt.setSelected(true);
			jComboBoxD3.setEnabled(false);
			jTextFieldD3.setEnabled(true);
		}
	}

	public pt.utl.ist.elab.client.webrobot.customizer.Models.ModelCompInt getmodelCompInt() {
		return modelCompInt;
	}

	/**
	 * Getter for property cancel.
	 * 
	 * @return Value of property cancel.
	 */
	public boolean isCancel() {
		return cancel;
	}

	/**
	 * Setter for property cancel.
	 * 
	 * @param cancel New value of property cancel.
	 */
	public void setCancel(final boolean cancel) {
		this.cancel = cancel;
	}

	// Variables declaration - do not modify//GEN-BEGIN:variables
	private javax.swing.JComboBox jComboBoxD1;
	private javax.swing.JPanel jPanelOpts;
	private javax.swing.JPanel jPanelOkCancel;
	private javax.swing.JButton jButtonCancel;
	private javax.swing.ButtonGroup buttonGroup;
	private javax.swing.JLabel jLabel1;
	private javax.swing.JRadioButton jRadioButtonInt;
	private javax.swing.JComboBox jComboBoxD3;
	private javax.swing.JButton jButtonOk;
	private javax.swing.JPanel jPanelVarInt;
	private javax.swing.JPanel jPanelVarIntOpts;
	private javax.swing.JTextField jTextFieldD3;
	private javax.swing.JRadioButton jRadioButtonVar;
	private javax.swing.JComboBox jComboBoxD2;
	// End of variables declaration//GEN-END:variables
	// My variables
	private final pt.utl.ist.elab.client.webrobot.customizer.Models.ModelCompInt modelCompInt;
	private final pt.utl.ist.elab.client.webrobot.customizer.Utils.CheckTextValues checkTextValues = new pt.utl.ist.elab.client.webrobot.customizer.Utils.CheckTextValues(
			this);

	/** Holds value of property cancel. */
	private boolean cancel = false;

}
