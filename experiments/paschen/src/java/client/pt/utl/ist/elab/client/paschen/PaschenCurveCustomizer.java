/*
 * PaschenCurveCustomizer.java
 *
 * Created on 17 de Fevereiro de 2005, 5:07
 */

package pt.utl.ist.elab.client.paschen;

import com.linkare.rec.data.config.HardwareAcquisitionConfig;
import com.linkare.rec.data.metadata.HardwareInfo;
import com.linkare.rec.data.synch.Frequency;
import com.linkare.rec.impl.client.customizer.ICustomizerListener;
import com.linkare.rec.impl.i18n.ReCResourceBundle;

/**
 * 
 * @author jloureiro
 */
public class PaschenCurveCustomizer extends javax.swing.JPanel implements com.linkare.rec.impl.client.customizer.ICustomizer {



	/**
	 * 
	 */
	private static final long serialVersionUID = 9034443753516543496L;

	/** Creates new form PaschenCurveCustomizer */
	public PaschenCurveCustomizer() {
		initComponents();
	}

	/**
	 * This method is called from within the constructor to initialize the form.
	 * WARNING: Do NOT modify this code. The content of this method is always
	 * regenerated by the Form Editor.
	 */
	private void initComponents() {// GEN-BEGIN:initComponents
        java.awt.GridBagConstraints gridBagConstraints;

        jPanel1 = new javax.swing.JPanel();
        sldSig1 = new javax.swing.JSlider();
        tfSig1 = new javax.swing.JFormattedTextField();
        jPanel2 = new javax.swing.JPanel();
        sldSig2 = new javax.swing.JSlider();
        tfSig2 = new javax.swing.JFormattedTextField();
        btnOK = new javax.swing.JButton();
        btnClose = new javax.swing.JButton();
        jPanel3 = new javax.swing.JPanel();
        sldSig3 = new javax.swing.JSlider();
        tfSig3 = new javax.swing.JFormattedTextField();
        btnDefConfig = new javax.swing.JButton();
        jPanel4 = new javax.swing.JPanel();
        sldSig4 = new javax.swing.JSlider();
        tfSig4 = new javax.swing.JFormattedTextField();

        //setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        //setTitle("Paschen Curve Customizer");

        jPanel1.setBorder(javax.swing.BorderFactory.createTitledBorder(ReCResourceBundle.findStringOrDefault("paschen$rec.exp.paschen.customizer.lbl.title2","paschen$rec.exp.paschen.customizer.lbl.title2")));
        jPanel1.setToolTipText(ReCResourceBundle.findStringOrDefault("paschen$rec.exp.paschen.customizer.lbl.title2","paschen$rec.exp.paschen.customizer.lbl.title2"));
        jPanel1.setMinimumSize(new java.awt.Dimension(350, 160));
        jPanel1.setPreferredSize(new java.awt.Dimension(350, 160));
        jPanel1.setLayout(new java.awt.GridBagLayout());

        sldSig1.setMajorTickSpacing(500);
        sldSig1.setMaximum(3000);
        sldSig1.setMinorTickSpacing(250);
        sldSig1.setPaintLabels(true);
        sldSig1.setPaintTicks(true);
        sldSig1.setPaintTrack(false);
        sldSig1.setValue(0);
        sldSig1.setMinimumSize(new java.awt.Dimension(250, 42));
        sldSig1.setPreferredSize(new java.awt.Dimension(250, 42));
        sldSig1.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                sldSig1StateChanged(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = java.awt.GridBagConstraints.VERTICAL;
        gridBagConstraints.weighty = 10.0;
        jPanel1.add(sldSig1, gridBagConstraints);

        tfSig1.setText("0000");
        tfSig1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                tfSig1ActionPerformed(evt);
            }
        });
        tfSig1.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfSig1FocusLost(evt);
            }
        });
        jPanel1.add(tfSig1, new java.awt.GridBagConstraints());

        jPanel2.setBorder(javax.swing.BorderFactory.createTitledBorder(ReCResourceBundle.findStringOrDefault("paschen$rec.exp.paschen.customizer.lbl.title3","paschen$rec.exp.paschen.customizer.lbl.title3")));
        jPanel2.setToolTipText(ReCResourceBundle.findStringOrDefault("paschen$rec.exp.paschen.customizer.lbl.title3","paschen$rec.exp.paschen.customizer.lbl.title3"));
        jPanel2.setMinimumSize(new java.awt.Dimension(350, 160));
        jPanel2.setPreferredSize(new java.awt.Dimension(350, 160));
        jPanel2.setLayout(new java.awt.GridBagLayout());

        sldSig2.setMajorTickSpacing(500);
        sldSig2.setMaximum(3000);
        sldSig2.setMinorTickSpacing(250);
        sldSig2.setPaintLabels(true);
        sldSig2.setPaintTicks(true);
        sldSig2.setPaintTrack(false);
        sldSig2.setValue(0);
        sldSig2.setMinimumSize(new java.awt.Dimension(250, 42));
        sldSig2.setPreferredSize(new java.awt.Dimension(250, 42));
        sldSig2.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                sldSig2StateChanged(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = java.awt.GridBagConstraints.VERTICAL;
        gridBagConstraints.weighty = 10.0;
        jPanel2.add(sldSig2, gridBagConstraints);

        tfSig2.setText("0000");
        tfSig2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                tfSig2ActionPerformed(evt);
            }
        });
        tfSig2.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfSig2FocusLost(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        jPanel2.add(tfSig2, gridBagConstraints);

        btnOK.setText(ReCResourceBundle.findStringOrDefault("paschen$rec.exp.paschen.customizer.lbl.ok","paschen$rec.exp.paschen.customizer.lbl.ok"));
        btnOK.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnOKActionPerformed(evt);
            }
        });

        btnClose.setText(ReCResourceBundle.findStringOrDefault("paschen$rec.exp.paschen.customizer.lbl.cancel","paschen$rec.exp.paschen.customizer.lbl.cancel"));
        btnClose.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnCloseActionPerformed(evt);
            }
        });

        jPanel3.setBorder(javax.swing.BorderFactory.createTitledBorder(ReCResourceBundle.findStringOrDefault("paschen$rec.exp.paschen.customizer.lbl.title1","paschen$rec.exp.paschen.customizer.lbl.title1")));
        jPanel3.setToolTipText(ReCResourceBundle.findStringOrDefault("paschen$rec.exp.paschen.customizer.lbl.title1","paschen$rec.exp.paschen.customizer.lbl.title1"));
        jPanel3.setMinimumSize(new java.awt.Dimension(350, 160));
        jPanel3.setPreferredSize(new java.awt.Dimension(350, 160));
        jPanel3.setRequestFocusEnabled(false);
        jPanel3.setVerifyInputWhenFocusTarget(false);
        jPanel3.setLayout(new java.awt.GridBagLayout());

        sldSig3.setMajorTickSpacing(20);
        sldSig3.setMinorTickSpacing(10);
        sldSig3.setPaintLabels(true);
        sldSig3.setPaintTicks(true);
        sldSig3.setPaintTrack(false);
        sldSig3.setValue(0);
        sldSig3.setMinimumSize(new java.awt.Dimension(250, 42));
        sldSig3.setPreferredSize(new java.awt.Dimension(250, 42));
        sldSig3.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                sldSig3StateChanged(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = java.awt.GridBagConstraints.VERTICAL;
        gridBagConstraints.weighty = 10.0;
        jPanel3.add(sldSig3, gridBagConstraints);

        tfSig3.setText("0000");
        tfSig3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                tfSig3ActionPerformed(evt);
            }
        });
        tfSig3.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfSig3FocusLost(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        jPanel3.add(tfSig3, gridBagConstraints);

        btnDefConfig.setText(ReCResourceBundle.findStringOrDefault("paschen$rec.exp.paschen.customizer.lbl.dftcfg","paschen$rec.exp.paschen.customizer.lbl.dftcfg"));
        btnDefConfig.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnDefConfigActionPerformed(evt);
            }
        });

        jPanel4.setBorder(javax.swing.BorderFactory.createTitledBorder(ReCResourceBundle.findStringOrDefault("paschen$rec.exp.paschen.customizer.lbl.title4","paschen$rec.exp.paschen.customizer.lbl.title4")));
        jPanel4.setToolTipText(ReCResourceBundle.findStringOrDefault("paschen$rec.exp.paschen.customizer.lbl.title4","paschen$rec.exp.paschen.customizer.lbl.title4"));
        jPanel4.setMinimumSize(new java.awt.Dimension(350, 160));
        jPanel4.setPreferredSize(new java.awt.Dimension(350, 160));
        jPanel4.setRequestFocusEnabled(false);
        jPanel4.setVerifyInputWhenFocusTarget(false);
        jPanel4.setLayout(new java.awt.GridBagLayout());

        sldSig4.setMajorTickSpacing(10);
        sldSig4.setMaximum(51);
        sldSig4.setMinimum(1);
        sldSig4.setMinorTickSpacing(5);
        sldSig4.setPaintLabels(true);
        sldSig4.setPaintTicks(true);
        sldSig4.setPaintTrack(false);
        sldSig4.setToolTipText("");
        sldSig4.setValue(1);
        sldSig4.setMinimumSize(new java.awt.Dimension(250, 42));
        sldSig4.setPreferredSize(new java.awt.Dimension(250, 42));
        sldSig4.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                sldSig4StateChanged(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = java.awt.GridBagConstraints.VERTICAL;
        gridBagConstraints.weighty = 10.0;
        jPanel4.add(sldSig4, gridBagConstraints);

        tfSig4.setText("0001");
        tfSig4.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                tfSig4ActionPerformed(evt);
            }
        });
        tfSig4.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfSig4FocusLost(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        jPanel4.add(tfSig4, gridBagConstraints);

        
        
        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.LEADING, layout.createSequentialGroup()
                .addGap(36, 36, 36)
                .addComponent(btnOK)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btnDefConfig, javax.swing.GroupLayout.PREFERRED_SIZE, 155, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btnClose)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(0, 0, Short.MAX_VALUE)//dcaqui para baix pode dar bodega
                .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addComponent(jPanel3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addComponent(jPanel4, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                /*.addGroup(layout.createSequentialGroup()
            	.addGap(0, 0, Short.MAX_VALUE)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanel3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanel4, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())*/
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(9, 9, 9)
                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, 105, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, 105, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, 105, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel4, javax.swing.GroupLayout.PREFERRED_SIZE, 105, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnOK)
                    .addComponent(btnClose)
                    .addComponent(btnDefConfig))
                .addContainerGap())
        );
         
        
        jPanel1.getAccessibleContext().setAccessibleName(ReCResourceBundle.findStringOrDefault("paschen$rec.exp.paschen.customizer.lbl.title2","paschen$rec.exp.paschen.customizer.lbl.title2"));
        jPanel2.getAccessibleContext().setAccessibleName(ReCResourceBundle.findStringOrDefault("paschen$rec.exp.paschen.customizer.lbl.title3","paschen$rec.exp.paschen.customizer.lbl.title3"));
        jPanel2.getAccessibleContext().setAccessibleDescription(ReCResourceBundle.findStringOrDefault("paschen$rec.exp.paschen.customizer.lbl.title3","paschen$rec.exp.paschen.customizer.lbl.title3"));
        btnClose.getAccessibleContext().setAccessibleDescription(ReCResourceBundle.findStringOrDefault("paschen$rec.exp.paschen.customizer.lbl.cancel","paschen$rec.exp.paschen.customizer.lbl.cancel"));;
        jPanel3.getAccessibleContext().setAccessibleName(ReCResourceBundle.findStringOrDefault("paschen$rec.exp.paschen.customizer.lbl.title1","paschen$rec.exp.paschen.customizer.lbl.title1"));
        jPanel3.getAccessibleContext().setAccessibleDescription(ReCResourceBundle.findStringOrDefault("paschen$rec.exp.paschen.customizer.lbl.title1","paschen$rec.exp.paschen.customizer.lbl.title1"));
        jPanel4.getAccessibleContext().setAccessibleName(ReCResourceBundle.findStringOrDefault("paschen$rec.exp.paschen.customizer.lbl.title4","paschen$rec.exp.paschen.customizer.lbl.title4"));
        jPanel4.getAccessibleContext().setAccessibleDescription(ReCResourceBundle.findStringOrDefault("paschen$rec.exp.paschen.customizer.lbl.title4","paschen$rec.exp.paschen.customizer.lbl.title4"));

	}// GEN-END:initComponents

    private void sldSig1StateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_sldSig1StateChanged
        tfSig1.setText(Integer.toString(sldSig1.getValue()));
        
        if(sldSig1.getValue() > sldSig2.getValue()){     
            btnOK.setEnabled(false);
        }
        
        else if(sldSig1.getValue() < sldSig2.getValue()){
            btnOK.setEnabled(true);
        }
        
    }//GEN-LAST:event_sldSig1StateChanged

    private void tfSig1FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfSig1FocusLost
        sldSig1.setValue(Integer.parseInt(tfSig1.getText()));
        
    }//GEN-LAST:event_tfSig1FocusLost

    private void sldSig2StateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_sldSig2StateChanged
        tfSig2.setText(Integer.toString(sldSig2.getValue()));
        
        if(sldSig2.getValue() <= sldSig1.getValue()){
            btnOK.setEnabled(false);
        }
        else if(sldSig2.getValue() > sldSig1.getValue()){
            btnOK.setEnabled(true);
        }
        
    }//GEN-LAST:event_sldSig2StateChanged

    private void tfSig2FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfSig2FocusLost
        sldSig2.setValue(Integer.parseInt(tfSig2.getText()));
        
        
    }//GEN-LAST:event_tfSig2FocusLost

    @SuppressWarnings("static-access")//TODO: Watch out for static access
	private void btnOKActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnOKActionPerformed
	
		final double volt_ini = sldSig1.getValue();
		final double volt_fin = sldSig2.getValue();
		final double volt_step = sldSig4.getValue();
		final double press_set = sldSig3.getValue();

		acqConfig.setSelectedFrequency(new Frequency(100d, hardwareInfo.getHardwareFrequencies(0).getMinimumFrequency()
				.getMultiplier(), hardwareInfo.getHardwareFrequencies(0).getMinimumFrequency().getFrequencyDefType()));
		acqConfig.setTotalSamples(3000);

		acqConfig.getSelectedHardwareParameter("volt_ini").setParameterValue("" + (float) volt_ini);
		acqConfig.getSelectedHardwareParameter("volt_fin").setParameterValue("" + (float) volt_fin);
		acqConfig.getSelectedHardwareParameter("volt_step").setParameterValue("" + (float) volt_step);
		acqConfig.getSelectedHardwareParameter("press_set").setParameterValue("" + (float) press_set);

		for (int i = 0; i < acqConfig.getSelectedHardwareParameters().length; i++) {
			System.out.println(acqConfig.getSelectedHardwareParameters(i).getParameterName() + " = "
					+ acqConfig.getSelectedHardwareParameters(i).getParameterValue());
		}

		fireICustomizerListenerDone();

    }//GEN-LAST:event_btnOKActionPerformed

    private void btnCloseActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnCloseActionPerformed
        
		fireICustomizerListenerCanceled();
        
    }//GEN-LAST:event_btnCloseActionPerformed

    private void tfSig1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_tfSig1ActionPerformed
        sldSig1.setValue(Integer.parseInt(tfSig1.getText()));
        
    }//GEN-LAST:event_tfSig1ActionPerformed

    private void sldSig3StateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_sldSig3StateChanged
        tfSig3.setText(Integer.toString(sldSig3.getValue()));
    }//GEN-LAST:event_sldSig3StateChanged

    private void tfSig3FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfSig3FocusLost
        sldSig3.setValue(Integer.parseInt(tfSig3.getText()));
    }//GEN-LAST:event_tfSig3FocusLost

    private void tfSig3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_tfSig3ActionPerformed
        sldSig3.setValue(Integer.parseInt(tfSig3.getText()));
    }//GEN-LAST:event_tfSig3ActionPerformed

    private void btnDefConfigActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnDefConfigActionPerformed
        
        sldSig1.setValue(0);
        tfSig1.setText("0");
        sldSig2.setValue(2000);
        tfSig2.setText("2000");
        sldSig3.setValue(50);
        tfSig3.setText("50");
        sldSig4.setValue(10);
        tfSig4.setText("10");
        
        
    }//GEN-LAST:event_btnDefConfigActionPerformed

    private void tfSig2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_tfSig2ActionPerformed
        sldSig2.setValue(Integer.parseInt(tfSig2.getText()));
    }//GEN-LAST:event_tfSig2ActionPerformed

    private void sldSig4StateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_sldSig4StateChanged
        tfSig4.setText(Integer.toString(sldSig4.getValue()));
    }//GEN-LAST:event_sldSig4StateChanged

    private void tfSig4ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_tfSig4ActionPerformed
        sldSig4.setValue(Integer.parseInt(tfSig4.getText()));
    }//GEN-LAST:event_tfSig4ActionPerformed

    private void tfSig4FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfSig4FocusLost
        sldSig4.setValue(Integer.parseInt(tfSig4.getText()));
    }//GEN-LAST:event_tfSig4FocusLost	

	/**
	 * @param args the command line arguments
	 */
	public static void main(final String args[]) {
		final javax.swing.JFrame test = new javax.swing.JFrame();
		test.addWindowListener(new java.awt.event.WindowAdapter() {
			@Override
			public void windowClosing(final java.awt.event.WindowEvent e) {
				System.exit(0);
			}
		});
		test.getContentPane().add(new PaschenCurveCustomizer());
		test.pack();
		test.setVisible(true);
	}

	// ****************************REC********************************************/

	/** Utility field used by event firing mechanism. */
	private javax.swing.event.EventListenerList listenerList = null;

	/**
	 * Registers ICustomizerListener to receive events.
	 * 
	 * @param listener The listener to register.
	 */
	@Override
	public synchronized void addICustomizerListener(final ICustomizerListener listener) {
		if (listenerList == null) {
			listenerList = new javax.swing.event.EventListenerList();
		}
		listenerList.add(ICustomizerListener.class, listener);
	}

	/**
	 * Removes ICustomizerListener from the list of listeners.
	 * 
	 * @param listener The listener to remove.
	 */
	@Override
	public synchronized void removeICustomizerListener(final ICustomizerListener listener) {
		listenerList.remove(ICustomizerListener.class, listener);
	}

	/**
	 * Notifies all registered listeners about the event.
	 * 
	 * @param param1 Parameter #1 of the <CODE>EventObject<CODE> constructor.
	 */
	private void fireICustomizerListenerCanceled() {
		if (listenerList == null) {
			return;
		}
		final Object[] listeners = listenerList.getListenerList();
		for (int i = listeners.length - 2; i >= 0; i -= 2) {
			if (listeners[i] == ICustomizerListener.class) {
				((ICustomizerListener) listeners[i + 1]).canceled();
			}
		}
	}

	/**
	 * Notifies all registered listeners about the event.
	 * 
	 * @param param1 Parameter #1 of the <CODE>EventObject<CODE> constructor.
	 */
	private void fireICustomizerListenerDone() {
		if (listenerList == null) {
			return;
		}
		final Object[] listeners = listenerList.getListenerList();
		for (int i = listeners.length - 2; i >= 0; i -= 2) {
			if (listeners[i] == ICustomizerListener.class) {

				((ICustomizerListener) listeners[i + 1]).done();
			}
		}
	}

	private HardwareInfo hardwareInfo = null;
	private HardwareAcquisitionConfig acqConfig = null;

	@Override
	public HardwareAcquisitionConfig getAcquisitionConfig() {
		return acqConfig;
	}

	@Override
	public void setHardwareAcquisitionConfig(final HardwareAcquisitionConfig acqConfig) {
		this.acqConfig = acqConfig;
		if (acqConfig != null) {
			final double volt_ini = Float.parseFloat(acqConfig.getSelectedHardwareParameterValue("volt_ini"));
			final double volt_fin = Float.parseFloat(acqConfig.getSelectedHardwareParameterValue("volt_fin"));
			final double volt_step = Float.parseFloat(acqConfig.getSelectedHardwareParameterValue("volt_step"));
			final double press_set = Float.parseFloat(acqConfig.getSelectedHardwareParameterValue("press_set"));			

			System.out.println("PaschenCurveCustomizer.setHardwareAcquisitionConfig(HardwareAcquisitionConfig  acqConfig)");
			System.out.println("acqConfig: [" + acqConfig + "]");


		}
	}

	@Override
	public void setHardwareInfo(final HardwareInfo hardwareInfo) {
		this.hardwareInfo = hardwareInfo;
	}

	protected HardwareInfo getHardwareInfo() {
		return hardwareInfo;
	}

	@Override
	public javax.swing.JComponent getCustomizerComponent() {
		return this;
	}

	@Override
	public javax.swing.ImageIcon getCustomizerIcon() {
		return new javax.swing.ImageIcon(getClass().getResource(
				"/pt/utl/ist/elab/client/paschen/resources/paschen_iconified.PNG"));
	}

	@Override
	public String getCustomizerTitle() {
		return "Shot Configuration Utility";
	}

	@Override
	public javax.swing.JMenuBar getMenuBar() {
		return null;
	}

	// Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btnClose;
    private javax.swing.JButton btnDefConfig;
    private javax.swing.JButton btnOK;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JSlider sldSig1;
    private javax.swing.JSlider sldSig2;
    private javax.swing.JSlider sldSig3;
    private javax.swing.JSlider sldSig4;
    private javax.swing.JFormattedTextField tfSig1;
    private javax.swing.JFormattedTextField tfSig2;
    private javax.swing.JFormattedTextField tfSig3;
    private javax.swing.JFormattedTextField tfSig4;
	// End of variables declaration//GEN-END:variables

}
