<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core" 
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui" template="/nomenu-template.xhtml">
    <ui:define name="title">
        <h:outputText value="#{bundle['page.login.title']}"></h:outputText>
    </ui:define>
    <ui:define name="body" id="auth">
        <div id="login">
            <div class="intro">
                <h1>
                    <h:outputText value="#{experiencesBean.laboratory.name}" />
                </h1>
                <p>
                    <h:outputText value="#{bundle['experiment.page.select']}" />
                </p>
            </div>
            <div class="elab_launch">
                <h:form id="elab_launch_form" styleClass="experiment-select">
                    <h2>
                    	  <h:inputHidden id="laboratoryName"  value="#{experiencesBean.laboratory.name}"
                        />
                        <h:outputText value="#{experiencesBean.experiments.size()} " />
                        <h:outputText rendered="#{experiencesBean.experiments.size() eq 1}"
                            value="#{bundle['experiment.number.singular']}" />
                        <h:outputText rendered="#{experiencesBean.experiments.size() ne 1}"
                            value="#{bundle['experiment.number.multiple']}" />
                    </h2>
                    <p:dataTable id="tableExperiments" var="deployedExp" value="#{experiencesBean.experiments}"
                        emptyMessage="No results to present">
                        <p:column>
                            <h:panelGroup rendered="#{deployedExp.labRunning}">
                                <a href="#{deployedExp.urlExperiment}"  target="_blank"
                                    title="#{statusBundle['tooltip.experiment.launch']}"
                                    rel="#{statusBundle['tooltip.experiment.launch']}">
                                    <div class="col-a">
                                        <h:outputText value="#{deployedExp.experiment.name}"
                                            styleClass="experiment-title" />
                                    </div>
                                    <div class="col-b">
                                        <span class="experiment-users">
                                            <h:outputText value="#{deployedExp.numberOfUsers}"
                                                title="#{statusBundle['tooltip.experiment.users']}" />
                                            <h:outputText value=" #{bundle['label.users']}" />
                                        </span>
                                        <h:outputText value="#{bundle['status.online']}"
                                            styleClass="experiment-status-on" />
                                    </div>
                                </a>
                            </h:panelGroup>
                            <h:panelGroup rendered="#{!deployedExp.labRunning}">
                                <div class="col-a">
                                    <h:outputText value="#{deployedExp.experiment.name}"
                                        styleClass="experiment-title" />
                                </div>
                                <div class="col-b">
                                    <h:outputText value="#{bundle['status.offline']}"
                                        styleClass="experiment-status-off" />
                                </div>
                            </h:panelGroup>
                        </p:column>
                    </p:dataTable>
                    <h:commandButton value="#{bundle['operation.back']}" onclick="window.history.back();return false;"
                        styleClass="back-button" />
                </h:form>
            </div>
            <div class="sidemenu">
                <div id="statusPanelFooter" class="statusPanelFooter">
                    <a href="#{bundle['page.faq.url']}">#{bundle['page.faq.title']}</a>
                    <a href="#{bundle['page.requirements.url']}">#{bundle['page.requirements.title']}</a>
                    <a href="mailto:elab@e-escola.pt" target="_blank">#{bundle['page.contact.title']}</a>
                </div>
            </div>
        </div>
    </ui:define>
</ui:composition>