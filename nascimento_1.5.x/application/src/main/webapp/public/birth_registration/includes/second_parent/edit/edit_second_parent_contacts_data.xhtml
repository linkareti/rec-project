<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:o="http://omnifaces.org/ui">

	<p:panel>
		<f:facet name="header">
			<legend>
				<h:outputText
					value="#{messages['birthRegistration.parent.contactsData']}" />
			</legend>
		</f:facet>

		<div class="row">
			<!-- Fifth row -->
			<div class="col-md-4">
				<p:outputLabel value="#{messages['address.addressType']}"
					for="secondParentAddressType" />
				<p:selectOneMenu id="secondParentAddressType"
					value="#{birthRegistrationController.birthRegistration.secondParent.address.addressType}"
					styleClass="col-md-12" style="width: none;">
					<f:selectItem noSelectionOption="true"
						itemLabel="#{messages['label.selectOne']}" />
					<f:selectItems value="#{applicationFactory.addressTypes}"
						var="addressType" itemLabel="#{messages[addressType.key]}"
						itemValue="#{addressType}" />
					<f:param name="disableValidation" value="#{true}" />
					<p:ajax process="@this" update="secondParentAddressGroup"
						listener="#{birthRegistrationController.onSecondParentAddressTypeChange()}" />
				</p:selectOneMenu>
				<div class="clearfix" />
				<p:message for="secondParentAddressType" />
			</div>
		</div>

		<h:panelGroup id="secondParentAddressGroup" layout="block">
			<ui:fragment
				rendered="#{birthRegistrationController.birthRegistration.secondParent.address.addressType eq 'PORTUGUESE'}">
				<div class="row">
					<div class="col-md-12">
						<p:outputLabel value="#{messages['address.street']}"
							for="secondParentAddressPortugueseStreet" />
						<p:inputTextarea id="secondParentAddressPortugueseStreet"
							value="#{birthRegistrationController.birthRegistration.secondParent.address.street}"
							styleClass="col-md-12"
							counter="secondParentAddressPortugueseDisplayStreet"
							counterTemplate="#{messages['label.counterTemplate']}"
							placeholder="#{messages['address.street.placeholder']}" rows="2"
							maxlength="255" />
						<h:outputText id="secondParentAddressPortugueseDisplayStreet"
							styleClass="text-muted" />
						<div class="clearfix" />
						<p:message for="secondParentAddressPortugueseStreet" />
					</div>
				</div>

				<div class="row">
					<div class="col-md-12">
						<p:outputLabel value="#{messages['address.parish']}"
							for="secondParentAddressParish" />
						<p:autoComplete id="secondParentAddressParish"
							value="#{birthRegistrationController.birthRegistration.secondParent.address.parish}"
							completeMethod="#{birthRegistrationController.completeActiveParish}"
							var="parish" itemLabel="#{parish.name}" itemValue="#{parish}"
							converter="#{parishConverter}" forceSelection="true"
							minQueryLength="2"
							maxResults="#{birthRegistrationController.numberOfParishesToShow}"
							inputStyleClass="col-md-12" style="width: 100%;"
							scrollHeight="300"
							placeholder="#{messages['address.parish.placeholder']}">
							<p:column>
								<h:outputText value="#{parish.county.district.name}" /> &gt; <h:outputText
									value="#{parish.county.name}" /> &gt; <h:outputText
									value="#{parish.name}" />
							</p:column>
						</p:autoComplete>
						<div class="clearfix" />
						<p:message for="secondParentAddressParish" />
					</div>
				</div>

				<div class="row">
					<div class="col-md-4">
						<p:outputLabel value="#{messages['address.zipCode']}"
							for="secondParentPortugueseAddressZipCode" />
						<p:inputMask id="secondParentPortugueseAddressZipCode"
							value="#{birthRegistrationController.birthRegistration.secondParent.address.zipCode}"
							styleClass="col-md-12" mask="9999-999" autoClear="false"
							placeholder="#{messages['address.zipCode.placeholder']}" />
						<div class="clearfix" />
						<p:message for="secondParentPortugueseAddressZipCode" />
					</div>
					<div class="col-md-8">
						<p:outputLabel value="#{messages['address.location']}"
							for="secondParentPortugueseAddressLocation" />
						<p:inputText id="secondParentPortugueseAddressLocation"
							value="#{birthRegistrationController.birthRegistration.secondParent.address.location}"
							styleClass="col-md-12"
							placeholder="#{messages['address.location.placeholder']}" />
						<div class="clearfix" />
						<p:message for="secondParentPortugueseAddressLocation" />
					</div>
				</div>
			</ui:fragment>

			<ui:fragment
				rendered="#{birthRegistrationController.birthRegistration.secondParent.address.addressType eq 'FOREIGN'}">
				<div class="row">
					<div class="col-md-12">
						<p:outputLabel value="#{messages['address.street']}"
							for="secondParentAddressForeignStreet" />
						<p:inputTextarea id="secondParentAddressForeignStreet"
							value="#{birthRegistrationController.birthRegistration.secondParent.address.street}"
							styleClass="col-md-12"
							counter="secondParentAddressForeignDisplayStreet"
							counterTemplate="#{messages['label.counterTemplate']}"
							placeholder="#{messages['address.street.placeholder']}" rows="2"
							maxlength="255" />
						<h:outputText id="secondParentAddressForeignDisplayStreet"
							styleClass="text-muted" />
						<div class="clearfix" />
						<p:message for="secondParentAddressForeignStreet" />
					</div>
				</div>

				<div class="row">
					<div class="col-md-4">
						<p:outputLabel value="#{messages['address.country']}"
							for="secondParentForeignAddressCountry" />
						<p:selectOneMenu id="secondParentForeignAddressCountry"
							value="#{birthRegistrationController.birthRegistration.secondParent.address.country}"
							styleClass="col-md-12" style="width: none;"
							converter="#{countryConverter}">
							<f:selectItem noSelectionOption="true"
								itemLabel="#{messages['label.selectOne']}" />
							<f:selectItems
								value="#{applicationFactory.nonPortugueseCountries}"
								var="country" itemLabel="#{country.name}" itemValue="#{country}" />
						</p:selectOneMenu>
						<div class="clearfix" />
						<p:message for="secondParentForeignAddressCountry" />
					</div>
					<div class="col-md-4">
						<p:outputLabel value="#{messages['address.zipCode']}"
							for="secondParentForeignAddressZipCode" />
						<p:inputText id="secondParentForeignAddressZipCode"
							value="#{birthRegistrationController.birthRegistration.secondParent.address.zipCode}"
							styleClass="col-md-12"
							placeholder="#{messages['address.zipCode.placeholder']}" />
						<div class="clearfix" />
						<p:message for="secondParentForeignAddressZipCode" />
					</div>
					<div class="col-md-4">
						<p:outputLabel value="#{messages['address.location']}"
							for="secondParentForeignAddressLocation" />
						<p:inputText id="secondParentForeignAddressLocation"
							value="#{birthRegistrationController.birthRegistration.secondParent.address.location}"
							styleClass="col-md-12"
							placeholder="#{messages['address.location.placeholder']}" />
						<div class="clearfix" />
						<p:message for="secondParentForeignAddressLocation" />
					</div>
				</div>
			</ui:fragment>
		</h:panelGroup>

		<ui:fragment
			rendered="#{not birthRegistrationController.birthRegistration.secondParent.deceased}">
			<div class="row">
				<div class="col-md-4">
					<p:outputLabel value="#{messages['parent.telephone']}"
						for="secondParentTelephone" />
					<p:inputText id="secondParentTelephone"
						value="#{birthRegistrationController.birthRegistration.secondParent.telephone}"
						styleClass="col-md-12"
						placeholder="#{messages['parent.telephone.placeholder']}" />
					<div class="clearfix" />
					<p:message for="secondParentTelephone" />
				</div>
				<div class="col-md-8">
					<p:outputLabel value="#{messages['parent.email']}"
						for="secondParentEmail" />
					<p:inputText id="secondParentEmail"
						value="#{birthRegistrationController.birthRegistration.secondParent.email}"
						styleClass="col-md-12"
						placeholder="#{messages['parent.email.placeholder']}">
						<f:param name="disableValidation" value="#{true}" />
						<p:ajax process="@this" partialSubmit="true" />
					</p:inputText>
					<div class="clearfix" />
					<p:message for="secondParentEmail" />
				</div>
			</div>
		</ui:fragment>
	</p:panel>

</ui:composition>