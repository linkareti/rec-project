<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:o="http://omnifaces.org/ui">

	<p:panel>
		<f:facet name="header">
			<legend>
				<h:outputText
					value="#{messages['birthRegistration.naturalityData']}" />
			</legend>
		</f:facet>

		<!-- Third row -->
		<h:panelGroup id="registrationNaturalityGroup" layout="block">
			<div class="row">
				<div class="col-md-4">
					<p:outputLabel
						value="#{messages['birthRegistration.naturalityType']}"
						for="registrationNaturalityType" />
					<p:selectOneMenu id="registrationNaturalityType"
						value="#{birthRegistrationController.birthRegistration.naturalityType}"
						styleClass="col-md-12" style="width: none;" disabled="true">
						<f:selectItem noSelectionOption="true"
							itemLabel="#{messages['label.selectOne']}" />
						<f:selectItems value="#{applicationFactory.naturalityTypes}"
							var="naturalityType" itemLabel="#{messages[naturalityType.key]}"
							itemValue="#{naturalityType}" />
						<f:param name="disableValidation" value="#{true}" />
						<p:ajax process="@this" update="registrationNaturalityGroup"
							listener="#{birthRegistrationController.onNaturalityTypeChange()}"
							partialSubmit="true" />
					</p:selectOneMenu>
					<div class="clearfix" />
					<p:message for="registrationNaturalityType" />
				</div>

				<!-- Fourth row -->
				<ui:fragment
					rendered="#{birthRegistrationController.birthRegistration.naturalityType eq 'PORTUGUESE'}">
					<div class="col-md-8">
						<p:outputLabel value="#{messages['naturality.parish']}"
							for="registrationNaturalityParish" />
						<p:autoComplete id="registrationNaturalityParish"
							value="#{birthRegistrationController.birthRegistration.naturality.parish}"
							completeMethod="#{birthRegistrationController.completeActiveParish}"
							var="parish" itemLabel="#{parish.name}" itemValue="#{parish}"
							converter="#{parishConverter}" forceSelection="true"
							minQueryLength="2"
							maxResults="#{birthRegistrationController.numberOfParishesToShow}"
							inputStyleClass="col-md-12" style="width: 100%;"
							scrollHeight="300"
							placeholder="#{messages['naturality.parish.placeholder']}">
							<p:column>
								<h:outputText value="#{parish.county.district.name}" /> &gt; <h:outputText
									value="#{parish.county.name}" /> &gt; <h:outputText
									value="#{parish.name}" />
							</p:column>
						</p:autoComplete>
						<div class="clearfix" />
						<p:message for="registrationNaturalityParish" />
					</div>
				</ui:fragment>

				<ui:fragment
					rendered="#{birthRegistrationController.birthRegistration.naturalityType eq 'FOREIGN'}">
					<div class="col-md-4">
						<p:outputLabel value="#{messages['naturality.country']}"
							for="registrationForeignNaturalityCountry" />
						<p:selectOneMenu id="registrationForeignNaturalityCountry"
							value="#{birthRegistrationController.birthRegistration.naturality.country}"
							styleClass="col-md-12" style="width: none;"
							converter="#{countryConverter}">
							<f:selectItem noSelectionOption="true"
								itemLabel="#{messages['label.selectOne']}" />
							<f:selectItems
								value="#{applicationFactory.nonPortugueseCountries}"
								var="country" itemLabel="#{country.name}" itemValue="#{country}" />
						</p:selectOneMenu>
						<div class="clearfix" />
						<p:message for="registrationForeignNaturalityCountry" />
					</div>
					<div class="col-md-4">
						<p:outputLabel value="#{messages['naturality.location']}"
							for="registrationNaturalityLocation" />
						<p:inputText id="registrationNaturalityLocation"
							value="#{birthRegistrationController.birthRegistration.naturality.location}"
							styleClass="col-md-12"
							placeholder="#{messages['naturality.location.placeholder']}" />
						<div class="clearfix" />
						<p:message for="registrationNaturalityLocation" />
					</div>
				</ui:fragment>

				<ui:fragment
					rendered="#{birthRegistrationController.birthRegistration.naturalityType eq 'ON_BOARD'}">
					<div class="col-md-4">
						<p:outputLabel value="#{messages['naturality.country']}"
							for="registrationOnBoardNaturalityCountry" />
						<p:selectOneMenu id="registrationOnBoardNaturalityCountry"
							value="#{birthRegistrationController.birthRegistration.naturality.country}"
							styleClass="col-md-12" style="width: none;"
							converter="#{countryConverter}">
							<f:selectItem noSelectionOption="true"
								itemLabel="#{messages['label.selectOne']}" />
							<f:selectItems value="#{applicationFactory.countries}"
								var="country" itemLabel="#{country.name}" itemValue="#{country}" />
						</p:selectOneMenu>
						<div class="clearfix" />
						<p:message for="registrationOnBoardNaturalityCountry" />
					</div>
					<div class="col-md-4">
						<div class="row">
							<div class="col-md-6">
								<p:outputLabel value="#{messages['naturality.latitude']}"
									for="registrationNaturalityLatitude" />
								<p:inputText id="registrationNaturalityLatitude"
									value="#{birthRegistrationController.birthRegistration.naturality.latitude}"
									styleClass="col-md-12"
									placeholder="#{messages['naturality.latitude.placeholder']}" />
								<div class="clearfix" />
								<p:message for="registrationNaturalityLatitude" />
							</div>
							<div class="col-md-6">
								<p:outputLabel value="#{messages['naturality.longitude']}"
									for="registrationNaturalityLongitude" />
								<p:inputText id="registrationNaturalityLongitude"
									value="#{birthRegistrationController.birthRegistration.naturality.longitude}"
									styleClass="col-md-12"
									placeholder="#{messages['naturality.longitude.placeholder']}" />
								<div class="clearfix" />
								<p:message for="registrationNaturalityLongitude" />
							</div>
						</div>
					</div>
				</ui:fragment>
			</div>
		</h:panelGroup>
	</p:panel>

</ui:composition>