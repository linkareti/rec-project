<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:o="http://omnifaces.org/ui"
	xmlns:lnk="http://java.sun.com/jsf/composite/lnk">

	<h:panelGroup id="birth_registration_summary" layout="block"
		rendered="#{birthRegistrationController.showSummary}">
		<div class="container-background">
			<div class="container">
				<span class="responsible"> <h:outputText
						value="#{messages['birthRegistration.identification.responsible']}" />
				</span>
				<h2>
					<h:outputText
						value="#{messages['birthRegistration.identification.title']}" />
				</h2>
				<h2 id="registration-state">
					<span> <p:commandLink
							value="#{messages['birthRegistration.step1']}"
							action="#{birthRegistrationController.moveToFirstParentSection()}"
							process="@form" update="@form"
							onstart="PF('mainContentBUI').show();PrimeFaces.scrollTo('page-top')"
							oncomplete="PF('mainContentBUI').hide()">
							<f:param name="disableValidation" value="#{true}" />
						</p:commandLink>
					</span> <i class="fa fa-chevron-right" /> <span> <p:commandLink
							value="#{messages['birthRegistration.step2']}"
							action="#{birthRegistrationController.moveToSecondParentSection()}"
							process="@form" update="@form"
							onstart="PF('mainContentBUI').show();PrimeFaces.scrollTo('page-top')"
							oncomplete="PF('mainContentBUI').hide()">
							<f:param name="disableValidation" value="#{true}" />
						</p:commandLink>
					</span> <i class="fa fa-chevron-right" /> <span> <p:commandLink
							value="#{messages['birthRegistration.step3']}"
							action="#{birthRegistrationController.moveToRegistrationSection()}"
							process="@form" update="@form"
							onstart="PF('mainContentBUI').show();PrimeFaces.scrollTo('page-top')"
							oncomplete="PF('mainContentBUI').hide()">
							<f:param name="disableValidation" value="#{true}" />
						</p:commandLink>
					</span> <i class="fa fa-chevron-right" /> <span> <p:commandLink
							value="#{messages['birthRegistration.step4']}"
							action="#{birthRegistrationController.moveToSurveySection()}"
							process="@form" update="@form"
							onstart="PF('mainContentBUI').show();PrimeFaces.scrollTo('page-top')"
							oncomplete="PF('mainContentBUI').hide()">
							<f:param name="disableValidation" value="#{true}" />
						</p:commandLink>
					</span> <i class="fa fa-chevron-right" /> <span class="active"> <h:outputText
							value="#{messages['birthRegistration.step5']}" />
					</span>
				</h2>
			</div>
		</div>
		<div class="container">
			<div class="panel">
				<h3 class="heading">

					<a data-toggle="collapse" data-target="#summary-info"> <h:outputText
							value="#{messages['birthRegistration.summary']}" /><i
						class="fa fa-info-circle"></i>
					</a>
				</h3>
				<div id="summary-info" class="panel-collapse collapse">
					<div class="panel-body info">
						<div class="row">
							<div class="col-xs-6">
								<p>
									<h:outputText
										value="#{messages['birthRegistration.summary.help.left-content']}"
										escape="false" />
								</p>
							</div>
							<div class="col-xs-6">
								<p>
									<h:outputText
										value="#{messages['birthRegistration.summary.help.right-content']}"
										escape="false" />
								</p>
							</div>
						</div>
					</div>
				</div>
			</div>

			<h:panelGroup id="birth_registration_summary_container"
				layout="block">

				<div class="row">
					<div class="col-md-12">

						<f:validateBean disabled="#{param['disableValidation'] eq true}">

							<p:focus context="birth_registration_summary_container"
								rendered="#{facesContext.validationFailed}" />

							<div class="form-content summary-content">
								<h3 class="heading">
									<h:outputText
										value="#{messages['birthRegistration.firstParent']}" />
								</h3>

								<lnk:viewParentIdentificationData
									parentData="#{birthRegistrationController.birthRegistration.firstParent}" />
								<lnk:viewParentNaturalityData
									parentData="#{birthRegistrationController.birthRegistration.firstParent}" />
								<lnk:viewParentParentsData
									parentData="#{birthRegistrationController.birthRegistration.firstParent}" />
								<lnk:viewParentContactsData
									parentData="#{birthRegistrationController.birthRegistration.firstParent}" />


								<h3 class="heading">
									<h:outputText
										value="#{messages['birthRegistration.secondParent']}" />
								</h3>

								<ui:fragment
									rendered="#{empty birthRegistrationController.birthRegistration.secondParent}">
									<div class="alert alert-info">
										<h:outputText
											value="#{messages['birthRegistration.secondParent.unknown']}" />
									</div>
								</ui:fragment>
								<ui:fragment
									rendered="#{not empty birthRegistrationController.birthRegistration.secondParent and birthRegistrationController.birthRegistration.secondParent.deceased eq true}">
									<div class="alert alert-info">
										<h:outputText
											value="#{messages['birthRegistration.secondParent.deceased']}" />
									</div>
								</ui:fragment>
								<ui:fragment
									rendered="#{not empty birthRegistrationController.birthRegistration.secondParent}">

									<lnk:viewParentIdentificationData
										parentData="#{birthRegistrationController.birthRegistration.secondParent}" />
									<lnk:viewParentNaturalityData
										parentData="#{birthRegistrationController.birthRegistration.secondParent}" />
									<lnk:viewParentParentsData
										parentData="#{birthRegistrationController.birthRegistration.secondParent}" />
									<lnk:viewParentContactsData
										parentData="#{birthRegistrationController.birthRegistration.secondParent}" />


								</ui:fragment>

								<h3 class="heading">
									<h:outputText
										value="#{messages['birthRegistration.registration']}" />
								</h3>

								<lnk:viewBirthRegistrationIdentificationData
									birthRegistration="#{birthRegistrationController.birthRegistration}" />
								<lnk:viewBirthRegistrationNaturalityData
									birthRegistration="#{birthRegistrationController.birthRegistration}" />
								<lnk:viewBirthRegistrationHospitalUnitData
									birthRegistration="#{birthRegistrationController.birthRegistration}"
									documentHelper="#{birthRegistrationController.documentHelper}" />

								<h3 class="heading">
									<h:outputText value="#{messages['birthRegistration.survey']}" />
								</h3>

								<lnk:viewSurveyData
									birthRegistration="#{birthRegistrationController.birthRegistration}" />
								<lnk:viewSurveyParentProfessionalData
									parentData="#{birthRegistrationController.birthRegistration.firstParent}"
									birthRegistration="#{birthRegistrationController.birthRegistration}" />
								<ui:fragment
									rendered="#{not empty birthRegistrationController.birthRegistration.secondParent}">
									<lnk:viewSurveyParentProfessionalData
										parentData="#{birthRegistrationController.birthRegistration.secondParent}"
										birthRegistration="#{birthRegistrationController.birthRegistration}"
										panelTitleKey="birthRegistration.secondParent.professionalData" />
								</ui:fragment>
							</div>

						</f:validateBean>

						<div class="row actions">
							<div class="col-sm-12">
								<p:commandButton icon="fa fa-chevron-left" iconPos="left"
									action="#{birthRegistrationController.moveToSurveySection()}"
									value="#{messages['button.previous']}"
									styleClass="ui-priority-default prevstep"
									process="birth_registration_summary_container" update="@form"
									onstart="PF('mainContentBUI').show()"
									oncomplete="PF('mainContentBUI').hide();PrimeFaces.scrollTo('page-top')"
									partialSubmit="true">
									<f:param name="disableValidation" value="#{true}" />
								</p:commandButton>
								&#160;
								<div class="pull-right">
									<p:commandButton icon="fa fa-check" iconPos="right"
										rendered="#{empty birthRegistrationController.birthRegistration.birthRegistrationStatus}"
										action="#{birthRegistrationController.submit()}"
										value="#{messages['button.submit']}"
										styleClass="ui-priority-primary nextstep"
										process="birth_registration_summary_container" update="@form"
										onstart="PF('mainContentBUI').show()"
										oncomplete="PF('mainContentBUI').hide()" partialSubmit="true">
										<f:param name="disableValidation" value="#{true}" />
									</p:commandButton>
								</div>
								<ui:fragment
									rendered="#{not birthRegistrationController.firstParent and birthRegistrationController.birthRegistration.birthRegistrationStatus eq 'REQUIRES_2ND_FOREFATHER_CONFIRMATION'}">
									<div class="pull-right">
										<p:commandButton icon="fa fa-check"
											action="#{birthRegistrationController.acceptSubmission}"
											value="#{messages['button.accept']}"
											styleClass="ui-priority-primary submit"
											process="birth_registration_summary_container" update="@form"
											onstart="PF('mainContentBUI').show();PrimeFaces.scrollTo('page-top')"
											oncomplete="PF('mainContentBUI').hide()" partialSubmit="true">
											<f:param name="disableValidation" value="#{true}" />
										</p:commandButton>
										<p:commandButton icon="fa fa-times"
											action="#{birthRegistrationController.rejectSubmission()}"
											value="#{messages['button.reject']}"
											styleClass="ui-priority-primary reject"
											process="birth_registration_summary_container" update="@form"
											onstart="PF('mainContentBUI').show();PrimeFaces.scrollTo('page-top')"
											oncomplete="PF('mainContentBUI').hide()" partialSubmit="true">
											<f:param name="disableValidation" value="#{true}" />
										</p:commandButton>
									</div>
								</ui:fragment>
							</div>
						</div>
					</div>
				</div>
			</h:panelGroup>
		</div>
	</h:panelGroup>

</ui:composition>