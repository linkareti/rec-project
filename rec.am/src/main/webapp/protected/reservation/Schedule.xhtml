<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.prime.com.tr/ui">

<ui:composition template="/template.xhtml">
	<ui:define name="title">
		<h:outputText value="#{bundle['page.reservation.scheduler.title']}"></h:outputText>
	</ui:define>
	<ui:define name="body">
		<p:idleMonitor timeout="10000" onidle="idleDialog.show();"
			onactive="idleDialog.hide();" />

		<p:dialog header="What's happening?" widgetVar="idleDialog"
			modal="true" fixedCenter="true" close="false" width="400px">
			<h:outputText value="Dude, are you there?" />
		</p:dialog>
		<div><p:layout fullPage="true">
			<p:layoutUnit size="300" resizable="false" position="west"
				style="font-family: Arial, Helvetica, sans-serif;
                                  color: #3a4f54;
                                  background-color: #dfecf1;
                                  font-size: small">
				<!-- 
				<h:form prependId="false">
					<h:panelGrid columns="2">
						<h:outputLabel for="title" value="Title:" />
						<h:inputText id="title" value="#{scheduleController.event.title}" />
						<h:outputLabel value="#{bundle.CreateReservationLabel_experiment}"
							for="experiment" />
						<h:selectOneMenu id="experiment"
							value="#{scheduleController.event.experiment}"
							title="#{bundle.CreateReservationTitle_experiment}"
							required="true"
							requiredMessage="#{bundle.CreateReservationRequiredMessage_experiment}">
							<f:selectItems
								value="#{experimentController.itemsAvailableSelectOne}" />
						</h:selectOneMenu>
						<h:outputLabel for="startDate" value="Start Date:" />
						<p:calendar id="startDate"
							value="#{scheduleController.event.startDate}"
							pattern="dd/MM/yyyy" />
						<h:outputLabel for="startTimeSlot" value="Start Time:" />
						<h:selectOneMenu id="startTimeSlot"
							value="#{scheduleController.event.startTimeSlot}"
							title="#{bundle.EditReservationTitle_startTimeSlot}"
							required="true"
							requiredMessage="#{bundle.CreateReservationRequiredMessage_startTimeSlot}">
							<f:selectItems value="#{reservationController.timeSlotSelectOne}" />
						</h:selectOneMenu>
						<h:outputLabel for="group" value="Group:" />
						<h:selectOneMenu id="group"
							value="#{scheduleController.event.userGroup}"
							title="#{bundle.CreateReservationTitle_group}" required="true"
							requiredMessage="#{bundle.CreateReservationRequiredMessage_group}">
							<f:selectItems
								value="#{userGroupController.itemsAvailableSelectOne}" />
						</h:selectOneMenu>
						<p:commandButton type="reset" value="Reset" />
						<p:commandButton value="Save"
							actionListener="#{scheduleController.createReservation}"
							oncomplete="myschedule.update();" />
					</h:panelGrid>
					<br></br>
					<h:commandLink value="#{bundle.CreateReservationIndexLink}"
						action="/index" immediate="true" />
				</h:form>

 -->

			</p:layoutUnit>
			<p:layoutUnit position="center"
				style="font-family: Arial, Helvetica, sans-serif;
                                  color: #3a4f54;
                                  background-color: #dfecf1;
                                  font-size: small">
				<h:panelGroup layout="block">

					<h:form prependId="false"
						style="font-family: Arial, Helvetica, sans-serif;
                                    color: #3a4f54;
                                    background-color: #dfecf1; width: 900px;
                                    font-size: small">

						<p:ajaxStatus style="height:24px;display:block;">
							<f:facet name="start">
								<h:graphicImage value="images/ajaxloading.gif" />
							</f:facet>

							<f:facet name="complete">
								<h:outputText value="" />
							</f:facet>
						</p:ajaxStatus>

						<p:growl id="messages" showDetail="true" />

						<p:schedule value="#{scheduleController.eventModel}"
							editable="true" widgetVar="myschedule"
							eventSelectListener="#{scheduleController.onEventSelect}"
							dateSelectListener="#{scheduleController.onDateSelect}"
							eventMoveListener="#{scheduleController.onEventMove}"
							eventResizeListener="#{scheduleController.onEventResize}"
							onEventMoveUpdate="messages" onEventResizeUpdate="messages">

							<p:scheduleEventDialog header="Event Details">
								<h:panelGrid columns="2">

									<h:outputLabel for="title2"
										value="#{bundle['reservation.title']}" />
									<h:inputText id="title2"
										value="#{scheduleController.event.title}" />
									<h:outputLabel value="#{bundle['reservation.experiment']}"
										for="experiment2" />
									<h:selectOneMenu id="experiment2"
										value="#{scheduleController.event.experiment}"
										title="#{bundle['reservation.experiment']}" required="true"
										converter="experimentConverter">
										<f:selectItems
											value="#{experimentController.itemsAvailableSelectOne}" />
									</h:selectOneMenu>
									<h:outputLabel value="#{bundle['reservation.reservedBy']}"
										for="user2" rendered="#{!userView.external}" />
									<h:selectOneMenu id="user2"
										value="#{scheduleController.event.userPrincipal}"
										title="#{bundle['reservation.user']}"
										required="#{!userView.external}"
										rendered="#{!userView.external}"
										converter="userPrincipalConverter">
										<f:selectItems
											value="#{userPrincipalController.itemsAvailableSelectOne}" />
									</h:selectOneMenu>
									<h:outputLabel value="#{bundle['reservation.reservedBy']}"
										for="externalUser2" rendered="#{userView.external}" />
									<h:inputText id="externalUser2"
										value="#{scheduleController.event.externalUser}"
										required="#{userView.external}"
										rendered="#{userView.external}" />
									<h:outputLabel value="#{bundle['reservation.reservedTo']}"
										for="group2" rendered="#{!userView.external}" />
									<h:selectOneMenu id="group2"
										value="#{scheduleController.event.userGroup}"
										title="#{bundle['reservation.group']}"
										required="#{!userView.external}"
										converter="userGroupConverter"
										rendered="#{!userView.external}">
										<f:selectItems
											value="#{userGroupController.itemsAvailableSelectOne}" />
									</h:selectOneMenu>
									<h:outputLabel value="#{bundle['reservation.reservedTo']}"
										for="externalCourse2" rendered="#{userView.external}" />
									<h:selectOneMenu id="externalCourse2"
										value="#{scheduleController.event.externalCourse}"
										required="#{userView.external}"
										rendered="#{userView.external}">
										<f:selectItems
											value="#{externalCourseController.itemsAvailableSelectOne}" />
									</h:selectOneMenu>
									<h:outputLabel for="startDate2"
										value="#{bundle['reservation.startDate']}" />
									<p:inputMask id="startDate2"
										value="#{scheduleController.event.startDate}"
										mask="99/99/9999">
										<f:convertDateTime pattern="dd/MM/yyyy" />
									</p:inputMask>
									<h:outputLabel for="endDate2"
										value="#{bundle['reservation.endDate']}" />
									<p:inputMask id="endDate2"
										value="#{scheduleController.event.endDate}" mask="99/99/9999">
										<f:convertDateTime pattern="dd/MM/yyyy" />
									</p:inputMask>
									<h:outputLabel for="startTimeSlot2"
										value="#{bundle['reservation.startTimeSlot']}" />
									<h:selectOneMenu id="startTimeSlot2"
										value="#{scheduleController.event.startTimeSlot}"
										title="#{bundle['reservation.startTimeSlot']}" required="true">
										<f:selectItems
											value="#{reservationController.timeSlotSelectOne}" />
									</h:selectOneMenu>
									<h:outputLabel for="endTimeSlot2"
										value="#{bundle['reservation.endTimeSlot']}" />
									<h:selectOneMenu id="endTimeSlot2"
										value="#{scheduleController.event.endTimeSlot}"
										title="#{bundle['reservation.endTimeSlot']}" required="true">
										<f:selectItems
											value="#{reservationController.timeSlotSelectOne}" />
									</h:selectOneMenu>
									<p:commandButton value="#{bundle['operation.save']}"
										actionListener="#{scheduleController.addEvent}"
										oncomplete="myschedule.update();" />
									<p:commandButton value="#{bundle['operation.remove']}"
										actionListener="#{scheduleController.removeEvent}"
										oncomplete="myschedule.update();" />
									<p:commandButton type="reset"
										value="#{bundle['operation.reset']}" />
								</h:panelGrid>
							</p:scheduleEventDialog>
						</p:schedule>
					</h:form>
				</h:panelGroup>
			</p:layoutUnit>
		</p:layout></div>
	</ui:define>
</ui:composition>
</html>