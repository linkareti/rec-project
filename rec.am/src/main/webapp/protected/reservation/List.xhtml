<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.prime.com.tr/ui"
	template="/protected/backoffice.xhtml">
	<ui:define name="title">
		<h:outputText value="#{bundle['page.reservation.list.title']}"></h:outputText>
	</ui:define>
	<ui:define name="body">
		<h:form id="list-form">
			<p:dataTable id="items" var="item" width="100%"
				value="#{reservationController.items}"
				emptyMessage="#{bundle['info.emptyList']}"
				selection="#{reservationController.current}" paginator="true"
				rows="10" selectionMode="single" dynamic="false"
				firstPageLinkLabel="#{bundle['label.firstPage']}"
				lastPageLinkLabel="#{bundle['label.lastPage']}"
				nextPageLinkLabel="#{bundle['label.nextPage']}"
				previousPageLinkLabel="#{bundle['label.previousPage']}"
				scrollable="false">

				<p:column width="150" sortBy="#{item.title}"
					filterBy="#{item.title}">
					<f:facet name="header">
						<h:outputText value="#{bundle['reservation.title']}" />
					</f:facet>
					<h:outputText value="#{item.title}" />
				</p:column>

				<p:column width="150" sortBy="#{item.reservedBy}"
					filterBy="#{item.reservedBy}">
					<f:facet name="header">
						<h:outputText value="#{bundle['reservation.reservedBy']}" />
					</f:facet>
					<h:outputText value="#{item.reservedBy}" />
				</p:column>

				<p:column width="150" sortBy="#{item.reservedTo}"
					filterBy="#{item.reservedTo}">
					<f:facet name="header">
						<h:outputText value="#{bundle['reservation.reservedTo']}" />
					</f:facet>
					<h:outputText value="#{item.reservedTo}" />
				</p:column>

				<p:column width="150" sortBy="#{item.startDate}"
					filterBy="#{item.startDate}">
					<f:facet name="header">
						<h:outputText value="#{bundle['reservation.startDate']}" />
					</f:facet>
					<h:outputText value="#{item.startDate}">
						<f:convertDateTime pattern="dd/MM/yyyy HH:mm" />
					</h:outputText>
				</p:column>

				<p:column width="150" resizable="false">
					<f:facet name="header"></f:facet>
					<h:commandLink action="#{reservationController.prepareView}"
						value="#{bundle['operation.view']}" />
					<h:outputText value=" " />
					<h:commandLink action="#{reservationController.prepareEdit}"
						value="#{bundle['operation.edit']}" />
					<h:outputText value=" " />
					<p:commandLink action="#{reservationController.destroy}"
						ajax="false">
						<h:outputText value="#{bundle['operation.remove']}" />
						<p:confirmDialog width="200px" draggable="true" effect="FADE"
							fixedCenter="true" effectDuration="0.2" modal="false"
							yesLabel="#{bundle['label.yes']}" noLabel="#{bundle['label.no']}"
							message="#{bundle['label.confirmMessage']}"
							header="#{bundle['label.confirmHeader']}" severity="warn" />
					</p:commandLink>
				</p:column>
			</p:dataTable>
			<h:commandLink action="#{reservationController.prepareCreate}"
				value="#{bundle['operation.create']}" />
		</h:form>
	</ui:define>
</ui:composition>